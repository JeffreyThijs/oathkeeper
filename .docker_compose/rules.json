[
  {
    "id": "redirect-to-dev",
    "upstream": {
      "url": "https://dev.aloxy.io",
      "preserve_host": false,
      "strip_path": "/dev"
    },
    "match": {
      "url": "<http|https>://<127.0.0.1|localhost>:4200/dev/<.*>",
      "methods": ["GET", "POST", "PUT", "PATCH", "OPTIONS", "DELETE"]
    },
    "authenticators": [
      {
        "handler": "noop"
      }
    ],
    "authorizer": {
      "handler": "allow"
    },
    "mutators": [
      {
        "handler": "header",
        "config": {
          "headers": {
            "jeffrey": "thijs",
            "Cookie": "insert cookie",
            "Origin": "http://localhost:4200",
            "Referer": "http://localhost:4200/"
          }
        }
      }
    ]
  },
  {
    "id": "redirect-to-webapp",
    "upstream": {
      "url": "http://localhost:4201"
    },
    "match": {
      "url": "<http|https>://<127.0.0.1|localhost>:4200/<(?!dev).*>",
      "methods": ["GET", "POST", "PUT", "PATCH", "OPTIONS", "DELETE"]
    },
    "authenticators": [
      {
        "handler": "noop"
      }
    ],
    "authorizer": {
      "handler": "allow"
    },
    "mutators": [
      {
        "handler": "header",
        "config": {
          "headers": {
            "jeffrey": "thijs",
            "Cookie": "insert cookie",
            "Origin": "http://localhost:4200",
            "Referer": "http://localhost:4200/"
          }
        }
      }
    ]
  }
]
